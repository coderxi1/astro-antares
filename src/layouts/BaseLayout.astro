---
import '@/styles/global.scss'
import HeadFragment from '@/components/fragment/HeadFragment.astro'
import FooterFragment from '@/components/fragment/FooterFragment.astro'
import If from '@/components/atomic/If.astro'
import NavBar from '@/components/NavBar.astro'
import { SITE_INFO } from '@/config'
const { language: lang, title: deafultTitle } = SITE_INFO

interface Props {
  subtitle?: string
  title?: string
  description?: string
  image?: string
  asideOff?: boolean
}
const {
  subtitle,
  title = subtitle ? `${subtitle} | ${deafultTitle}` : deafultTitle,
  description = '',
  image = '',
  asideOff = false,
} = Astro.props
---

<!DOCTYPE html>
<html {lang}>
<head>
  <HeadFragment {title} {description} {image}/>
  <slot name="head"/>
</head>
<body class="flex flex-col bg-global text-textPrim font-sans h-screen">
  <header class="h-60px">
    <NavBar/>
  </header>
  <main class="flex-1 w-screen max-w-screen-xl mx-auto my8 flex">
    <If condition={asideOff}>
      <div class="wfull animate-move-up">
        <slot/>
      </div>
    </If>
    <If condition={!asideOff}>
      <div class="wfull max-w28% mr2">
        <slot name="aside"/>
      </div>
      <div class="wfull max-w72% animate-move-up">
        <slot/>
      </div>
    </If>
  </main>
  <footer class="bg-normal shadow-md py8 text-center">
    <FooterFragment/>
  </footer>
</body>
</html>